
> nairalink@1.0.2 start-worker
> nodemon --exec babel-node --presets @babel/preset-env src/worker/service.js

[33m[nodemon] 2.0.22[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,json[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
Babel could not write cache to file: /home/node/app/node_modules/.cache/@babel/register/.babel.7.21.3.development.json
due to a permission issue. Cache is disabled.
/home/node/app/src/worker/service.js:9
    path: path.join(__dirname, '/../../.env')
          ^

ReferenceError: path is not defined
    at Object.<anonymous> (/home/node/app/src/worker/service.js:7:25)
    at Module._compile (node:internal/modules/cjs/loader:1191:14)
    at Module._compile (/home/node/app/node_modules/pirates/lib/index.js:136:24)
    at Module._extensions..js (node:internal/modules/cjs/loader:1245:10)
    at Object.newLoader [as .js] (/home/node/app/node_modules/pirates/lib/index.js:141:7)
    at Module.load (node:internal/modules/cjs/loader:1069:32)
    at Function.Module._load (node:internal/modules/cjs/loader:904:12)
    at Function.runMain (node:internal/modules/run_main:81:12)
    at Object.<anonymous> (/home/node/app/node_modules/@babel/node/src/_babel-node.ts:223:12)
    at Module._compile (node:internal/modules/cjs/loader:1191:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1245:10)
    at Module.load (node:internal/modules/cjs/loader:1069:32)
    at Function.Module._load (node:internal/modules/cjs/loader:904:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)
    at node:internal/main/run_main_module:22:47
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
/home/node/app/node_modules/@babel/core/lib/parser/index.js:74
    throw err;
    ^

SyntaxError: /home/node/app/src/worker/service.js: Missing initializer in const declaration. (4:10)

  2 | /* eslint-disable function-paren-newline */
  3 | /* eslint-disable comma-dangle */
> 4 | const path
    |           ^
  5 | const dotenv = require('dotenv');
  6 |
  7 | if (process.env.NODE_ENV === 'development') {
    at instantiate (/home/node/app/node_modules/@babel/parser/lib/index.js:653:32)
    at constructor (/home/node/app/node_modules/@babel/parser/lib/index.js:947:12)
    at Parser.raise (/home/node/app/node_modules/@babel/parser/lib/index.js:3261:19)
    at Parser.parseVar (/home/node/app/node_modules/@babel/parser/lib/index.js:13196:16)
    at Parser.parseVarStatement (/home/node/app/node_modules/@babel/parser/lib/index.js:13027:10)
    at Parser.parseStatementContent (/home/node/app/node_modules/@babel/parser/lib/index.js:12624:23)
    at Parser.parseStatementLike (/home/node/app/node_modules/@babel/parser/lib/index.js:12544:17)
    at Parser.parseModuleItem (/home/node/app/node_modules/@babel/parser/lib/index.js:12521:17)
    at Parser.parseBlockOrModuleBlockBody (/home/node/app/node_modules/@babel/parser/lib/index.js:13116:36)
    at Parser.parseBlockBody (/home/node/app/node_modules/@babel/parser/lib/index.js:13109:10)
    at Parser.parseProgram (/home/node/app/node_modules/@babel/parser/lib/index.js:12435:10)
    at Parser.parseTopLevel (/home/node/app/node_modules/@babel/parser/lib/index.js:12425:25)
    at Parser.parse (/home/node/app/node_modules/@babel/parser/lib/index.js:14245:10)
    at parse (/home/node/app/node_modules/@babel/parser/lib/index.js:14286:38)
    at parser (/home/node/app/node_modules/@babel/core/lib/parser/index.js:41:34)
    at parser.next (<anonymous>)
    at normalizeFile (/home/node/app/node_modules/@babel/core/lib/transformation/normalize-file.js:64:38)
    at normalizeFile.next (<anonymous>)
    at run (/home/node/app/node_modules/@babel/core/lib/transformation/index.js:21:50)
    at run.next (<anonymous>)
    at transform (/home/node/app/node_modules/@babel/core/lib/transform.js:22:41)
    at transform.next (<anonymous>)
    at evaluateSync (/home/node/app/node_modules/gensync/index.js:251:28)
    at sync (/home/node/app/node_modules/gensync/index.js:89:14)
    at stopHiding - secret - don't use this - v1 (/home/node/app/node_modules/@babel/core/lib/errors/rewrite-stack-trace.js:46:12)
    at Object.transformSync (/home/node/app/node_modules/@babel/core/lib/transform.js:43:76)
    at exports.transformSync (/home/node/app/node_modules/@babel/register/lib/worker/transform.js:81:15)
    at Function.handleMessage (/home/node/app/node_modules/@babel/register/lib/worker/handle-message.js:18:16)
    at LocalClient.<anonymous> (/home/node/app/node_modules/@babel/register/lib/worker-client.js:97:86)
    at LocalClient.transform (/home/node/app/node_modules/@babel/register/lib/worker-client.js:42:47)
    at compile (/home/node/app/node_modules/@babel/register/lib/hook.js:46:25)
    at compileBabel7 (/home/node/app/node_modules/@babel/register/lib/hook.js:38:14)
    at Module._compile (/home/node/app/node_modules/pirates/lib/index.js:130:29)
    at Module._extensions..js (node:internal/modules/cjs/loader:1245:10)
    at Object.newLoader [as .js] (/home/node/app/node_modules/pirates/lib/index.js:141:7)
    at Module.load (node:internal/modules/cjs/loader:1069:32)
    at Function.Module._load (node:internal/modules/cjs/loader:904:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)
    at Object.<anonymous> (/home/node/app/node_modules/@babel/node/lib/_babel-node.js:151:21)
    at Module._compile (node:internal/modules/cjs/loader:1191:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1245:10)
    at Module.load (node:internal/modules/cjs/loader:1069:32)
    at Function.Module._load (node:internal/modules/cjs/loader:904:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)
    at node:internal/main/run_main_module:22:47 {
  code: 'BABEL_PARSE_ERROR',
  reasonCode: 'DeclarationMissingInitializer',
  loc: Position { line: 4, column: 10, index: 134 },
  pos: [Getter/Setter]
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
Worker listening for credit and debit alert jobs
Babel could not write cache to file: /home/node/app/node_modules/.cache/@babel/register/.babel.7.21.3.development.json
due to a permission issue. Cache is disabled.
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
Worker listening for credit and debit alert jobs
Babel could not write cache to file: /home/node/app/node_modules/.cache/@babel/register/.babel.7.21.3.development.json
due to a permission issue. Cache is disabled.
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
Worker listening for credit and debit alert jobs
Babel could not write cache to file: /home/node/app/node_modules/.cache/@babel/register/.babel.7.21.3.development.json
due to a permission issue. Cache is disabled.
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
Worker listening for credit and debit alert jobs
Babel could not write cache to file: /home/node/app/node_modules/.cache/@babel/register/.babel.7.21.3.development.json
due to a permission issue. Cache is disabled.
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
Worker listening for credit and debit alert jobs
Babel could not write cache to file: /home/node/app/node_modules/.cache/@babel/register/.babel.7.21.3.development.json
due to a permission issue. Cache is disabled.
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
Worker listening for credit and debit alert jobs
Babel could not write cache to file: /home/node/app/node_modules/.cache/@babel/register/.babel.7.21.3.development.json
due to a permission issue. Cache is disabled.
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
Worker listening for credit and debit alert jobs
Babel could not write cache to file: /home/node/app/node_modules/.cache/@babel/register/.babel.7.21.3.development.json
due to a permission issue. Cache is disabled.
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `babel-node --presets @babel/preset-env src/worker/service.js`[39m
Worker listening for credit and debit alert jobs
Babel could not write cache to file: /home/node/app/node_modules/.cache/@babel/register/.babel.7.21.3.development.json
due to a permission issue. Cache is disabled.
